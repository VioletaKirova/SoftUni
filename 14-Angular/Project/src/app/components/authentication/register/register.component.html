<h1>Register</h1>
<form 
    (ngSubmit)="register()" 
    [formGroup]="form"
    fxLayout="column"
    fxLayoutAlign="center center"
    fxLayoutGap="20px">
  <mat-form-field appearance="outline">
    <input formControlName="email" matInput type="email" placeholder="Your email...">
    <mat-hint>Enter a valid email address.</mat-hint>
    <mat-error *ngIf="form.get('email').hasError('required')">Email is required.</mat-error>
    <mat-error *ngIf="form.get('email').hasError('email')">Email is invalid.</mat-error>
  </mat-form-field>
  <div formGroupName="passwords">
    <div class="field-container">
      <mat-form-field appearance="outline">
        <input formControlName="password" matInput class="password-form-field" type="password" placeholder="Your password...">
        <mat-hint>Enter a valid password.</mat-hint>
        <mat-error *ngIf="form.get('passwords.password').hasError('required')">Password is required.</mat-error>
        <mat-error *ngIf="form.get('passwords.password').hasError('minlength')">Password must be at least 6 symbols.</mat-error>
      </mat-form-field>
    </div>
    <div class="field-container">
      <mat-form-field appearance="outline">
        <input formControlName="rePassword" matInput class="password-form-field" type="password" placeholder="Repeat your password...">
        <mat-hint>Repeat your password.</mat-hint>
        <mat-error *ngIf="form.get('passwords.rePassword').hasError('required')">Repeat password is required.</mat-error>
        <mat-error *ngIf="form.get('passwords.password').touched && 
                          form.get('passwords.rePassword').touched && 
                          form.get('passwords').hasError('mismatch')">Passwords do not match.</mat-error>
      </mat-form-field>
    </div>
  </div>
  <button [disabled]="form.invalid" mat-raised-button type="submit" color="primary">Register</button>
</form>